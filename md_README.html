<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>POSIX Shared Memory Data Structures: posix_shm</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">POSIX Shared Memory Data Structures<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">High-performance lock-free data structures for inter-process communication</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">posix_shm</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> <a href="https://en.cppreference.com/w/cpp/23"><img src="https://img.shields.io/badge/C%2B%2B-23-blue.svg" alt="C++23" style="pointer-events: none;" class="inline"/></a> <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" style="pointer-events: none;" class="inline"/></a> <a href="https://queelius.github.io/posix_shm/"><img src="https://img.shields.io/badge/docs-doxygen-blue.svg" alt="Documentation" style="pointer-events: none;" class="inline"/></a></p>
<p>High-performance POSIX shared memory library for C++23 with lock-free data structures and zero-copy IPC.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Features</h1>
<ul>
<li><b>Header-only</b> library with C++23 support</li>
<li><b>Lock-free</b> data structures (queue, atomic types)</li>
<li><b>Zero-copy</b> inter-process communication</li>
<li><b>Dynamic discovery</b> of named structures</li>
<li><b>SIMD optimizations</b> for performance-critical paths</li>
<li><b>Stack allocation</b> strategy (no fragmentation)</li>
<li><b>Multi-process safe</b> with reference counting</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Requirements</h1>
<ul>
<li>C++23 compatible compiler (GCC 12+, Clang 15+)</li>
<li>POSIX-compliant system (Linux, macOS, BSD)</li>
<li>CMake 3.14+</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Installation</h1>
<h2><a class="anchor" id="autotoc_md4"></a>
Using CMake FetchContent (Recommended)</h2>
<p>Add to your <code>CMakeLists.txt</code>:</p>
<div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line">FetchContent_Declare(</div>
<div class="line">    posix_shm</div>
<div class="line">    GIT_REPOSITORY https://github.com/queelius/posix_shm.git</div>
<div class="line">    GIT_TAG        v1.0.0</div>
<div class="line">)</div>
<div class="line">FetchContent_MakeAvailable(posix_shm)</div>
<div class="line"> </div>
<div class="line">target_link_libraries(your_target PRIVATE posix_shm::posix_shm)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
Using CPM.cmake</h2>
<div class="fragment"><div class="line">CPMAddPackage(</div>
<div class="line">    NAME posix_shm</div>
<div class="line">    GITHUB_REPOSITORY queelius/posix_shm</div>
<div class="line">    VERSION 1.0.0</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">target_link_libraries(your_target PRIVATE posix_shm::posix_shm)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
Using Conan</h2>
<div class="fragment"><div class="line">conan install posix_shm/1.0.0@</div>
</div><!-- fragment --><p>Add to your <code>CMakeLists.txt</code>:</p>
<div class="fragment"><div class="line">find_package(posix_shm REQUIRED)</div>
<div class="line">target_link_libraries(your_target PRIVATE posix_shm::posix_shm)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Using vcpkg</h2>
<div class="fragment"><div class="line">vcpkg install posix-shm</div>
</div><!-- fragment --><p>Add to your <code>CMakeLists.txt</code>:</p>
<div class="fragment"><div class="line">find_package(posix_shm CONFIG REQUIRED)</div>
<div class="line">target_link_libraries(your_target PRIVATE posix_shm::posix_shm)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
Manual Installation</h2>
<div class="fragment"><div class="line">git clone https://github.com/queelius/posix_shm.git</div>
<div class="line">cd posix_shm</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -DCMAKE_INSTALL_PREFIX=/usr/local</div>
<div class="line">make install</div>
</div><!-- fragment --><p>Then in your project:</p>
<div class="fragment"><div class="line">find_package(posix_shm REQUIRED)</div>
<div class="line">target_link_libraries(your_target PRIVATE posix_shm::posix_shm)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9"></a>
Quick Start</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="posix__shm_8h.html">posix_shm.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="shm__array_8h.html">shm_array.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="shm__queue_8h.html">shm_queue.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="basic__usage_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    <span class="comment">// Create shared memory segment</span></div>
<div class="line">    <a class="code hl_class" href="classposix__shm__impl.html">posix_shm</a> shm(<span class="stringliteral">&quot;my_simulation&quot;</span>, 10 * 1024 * 1024);  <span class="comment">// 10MB</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create array in shared memory</span></div>
<div class="line">    <a class="code hl_class" href="classshm__array.html">shm_array&lt;float&gt;</a> sensors(shm, <span class="stringliteral">&quot;sensor_data&quot;</span>, 1000);</div>
<div class="line">    sensors[0] = 42.0f;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create lock-free queue</span></div>
<div class="line">    <a class="code hl_class" href="classshm__queue.html">shm_queue&lt;int&gt;</a> events(shm, <span class="stringliteral">&quot;event_queue&quot;</span>, 100);</div>
<div class="line">    events.enqueue(123);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// In another process, attach and use:</span></div>
<div class="line">    <a class="code hl_class" href="classposix__shm__impl.html">posix_shm</a> shm2(<span class="stringliteral">&quot;my_simulation&quot;</span>, 0);  <span class="comment">// 0 = attach to existing</span></div>
<div class="line">    <span class="keyword">auto</span>* sensors2 = <a class="code hl_typedef" href="classshm__array.html#a661ba8601539f45682ffac0bda0aa65d">shm_array&lt;float&gt;::open</a>(shm2, <span class="stringliteral">&quot;sensor_data&quot;</span>);</div>
<div class="line">    <span class="keywordtype">float</span> value = (*sensors2)[0];  <span class="comment">// Read: 42.0f</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Clean up when done</span></div>
<div class="line">    shm.unlink();  <span class="comment">// Remove from system</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="abasic__usage_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="basic__usage_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> <a href="basic__usage_8cpp_source.html#l00009">basic_usage.cpp:9</a></div></div>
<div class="ttc" id="aclassposix__shm__impl_html"><div class="ttname"><a href="classposix__shm__impl.html">posix_shm_impl&lt; shm_table &gt;</a></div></div>
<div class="ttc" id="aclassshm__array_html"><div class="ttname"><a href="classshm__array.html">shm_array</a></div><div class="ttdoc">Fixed-size array in shared memory with zero-overhead access.</div><div class="ttdef"><b>Definition</b> <a href="shm__array_8h_source.html#l00062">shm_array.h:63</a></div></div>
<div class="ttc" id="aclassshm__array_html_a661ba8601539f45682ffac0bda0aa65d"><div class="ttname"><a href="classshm__array.html#a661ba8601539f45682ffac0bda0aa65d">shm_array::reverse_iterator</a></div><div class="ttdeci">std::reverse_iterator&lt; iterator &gt; reverse_iterator</div><div class="ttdoc">Reverse iterator.</div><div class="ttdef"><b>Definition</b> <a href="shm__array_8h_source.html#l00278">shm_array.h:278</a></div></div>
<div class="ttc" id="aclassshm__queue_html"><div class="ttname"><a href="classshm__queue.html">shm_queue</a></div><div class="ttdoc">Lock-free circular queue for shared memory IPC.</div><div class="ttdef"><b>Definition</b> <a href="shm__queue_8h_source.html#l00024">shm_queue.h:24</a></div></div>
<div class="ttc" id="aposix__shm_8h_html"><div class="ttname"><a href="posix__shm_8h.html">posix_shm.h</a></div><div class="ttdoc">Core POSIX shared memory management with automatic reference counting.</div></div>
<div class="ttc" id="ashm__array_8h_html"><div class="ttname"><a href="shm__array_8h.html">shm_array.h</a></div><div class="ttdoc">Fixed-size shared memory array with STL compatibility.</div></div>
<div class="ttc" id="ashm__queue_8h_html"><div class="ttname"><a href="shm__queue_8h.html">shm_queue.h</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10"></a>
Data Structures</h1>
<ul>
<li><b><a class="el" href="classshm__array.html" title="Fixed-size array in shared memory with zero-overhead access.">shm_array</a>&lt;T&gt;</b> - Fixed-size array with O(1) access</li>
<li><b><a class="el" href="classshm__queue.html" title="Lock-free circular queue for shared memory IPC.">shm_queue</a>&lt;T&gt;</b> - Lock-free circular queue <br  />
</li>
<li><b><a class="el" href="classshm__atomic.html" title="Shared memory atomic value with auto-discovery.">shm_atomic</a>&lt;T&gt;</b> - Atomic types for synchronization</li>
<li><b><a class="el" href="classshm__ring__buffer.html" title="Lock-free ring buffer for high-throughput streaming data.">shm_ring_buffer</a>&lt;T&gt;</b> - Ring buffer for streaming data</li>
<li><b><a class="el" href="classshm__object__pool.html" title="High-performance object pool for shared memory.">shm_object_pool</a>&lt;T&gt;</b> - Object pool for allocation</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
Documentation</h1>
<ul>
<li><a href="https://queelius.github.io/posix_shm/">API Reference</a></li>
<li>Design Philosophy</li>
<li><a class="el" href="md_docs_2performance.html">Performance Guide</a></li>
<li><a href="examples/">Examples</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md12"></a>
Building Tests &amp; Examples</h1>
<div class="fragment"><div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -DBUILD_TESTS=ON -DBUILD_EXAMPLES=ON</div>
<div class="line">make</div>
<div class="line">ctest  # Run tests</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md13"></a>
Performance</h1>
<p>Benchmarks on Intel i7-12700K (single-threaded):</p>
<ul>
<li>Array read: 3.5 GB/s</li>
<li>Array write: 2.8 GB/s <br  />
</li>
<li>Queue enqueue/dequeue: 15M ops/sec</li>
<li>Atomic increment: 50M ops/sec</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
License</h1>
<p>MIT License - see [LICENSE](LICENSE) file</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Author</h1>
<p>Alex Towell</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Contributing</h1>
<p>Pull requests welcome! Please ensure:</p>
<ul>
<li>All tests pass</li>
<li>Code follows C++23 best practices</li>
<li>Documentation is updated </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
